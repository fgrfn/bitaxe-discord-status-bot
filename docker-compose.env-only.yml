version: '3.8'

# Vollständig mit Umgebungsvariablen - keine config.ini nötig!
# Kopiere diese Datei und passe die Werte an:
# cp docker-compose.env-only.yml docker-compose.yml

services:
  bitaxe-bot:
    build: .
    container_name: bitaxe-discord-bot
    restart: unless-stopped
    environment:
      # === Bot Configuration ===
      DISCORD_BOT_TOKEN: "YOUR_BOT_TOKEN_HERE"
      DISCORD_CHANNEL_ID: "YOUR_CHANNEL_ID_HERE"
      UPDATE_INTERVAL: "30"
      MENTION_USER_ID: "YOUR_USER_ID_HERE"  # Optional
      
      # === BitAxe Gamma Device ===
      DEVICE_BITAXE_GAMMA_IP: "192.168.1.100"
      DEVICE_BITAXE_GAMMA_TEMP_THRESHOLDS: "60,65,70"
      DEVICE_BITAXE_GAMMA_FAN_THRESHOLDS: "0,2000,3500,7500"
      DEVICE_BITAXE_GAMMA_VOLT_THRESHOLDS: "0.95,1.1,1.3"
      DEVICE_BITAXE_GAMMA_VR_TEMP_THRESHOLDS: "65,75,80"
      
      # === NerdAxe Device ===
      DEVICE_NERDAXE_IP: "192.168.1.101"
      DEVICE_NERDAXE_TEMP_THRESHOLDS: "60,65,70"
      DEVICE_NERDAXE_FAN_THRESHOLDS: "0,2000,3500,7500"
      DEVICE_NERDAXE_VOLT_THRESHOLDS: "0.95,1.1,1.3"
      DEVICE_NERDAXE_VR_TEMP_THRESHOLDS: "65,75,80"
      
      # === Add more devices here ===
      # DEVICE_MY_BITAXE_IP: "192.168.1.102"
      # DEVICE_MY_BITAXE_TEMP_THRESHOLDS: "60,65,70"
      # etc.
      
    volumes:
      # Nur data und logs, keine config.ini nötig!
      - ./data:/app/data
      - ./logs:/app/logs
    networks:
      - bitaxe-network

networks:
  bitaxe-network:
    driver: bridge
